(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,function(e,t,a){},,function(e,t,a){e.exports=a(19)},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(9),c=a.n(l),i=(a(16),a(1)),o=a(2),s=a(4),u=a(3),m=a(5),d=a(6),f=["user-top-read","user-read-currently-playing","user-read-playback-state"],h=window.location.hash.substring(1).split("&").reduce(function(e,t){if(t){var a=t.split("=");e[a[0]]=decodeURIComponent(a[1])}return e},{});window.location.hash="";var p=h,b=(a(17),a(18),a(8),r.a.createContext("No Data Yet")),E=b.Provider,k=b.Consumer,v=r.a.createContext("No Data Yet"),y=v.Provider,g=v.Consumer,j=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h2",null,"Songs"),r.a.createElement("br",null)),r.a.createElement(g,null,function(e){return r.a.createElement("div",null,e.map(function(e){return r.a.createElement("div",null,r.a.createElement("a",{href:e.track.preview_url,target:"_blank"},r.a.createElement("h2",null,e.track.name),r.a.createElement("img",{src:e.track.album.images[0].url})),r.a.createElement("br",null))}))}))}}]),t}(n.Component),O=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).buttonClicked=!1,e.state={trackList:[]},e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"imageClicked",value:function(e){this.fetchTracksForID(e),this.buttonClicked=!0}},{key:"fetchTracksForID",value:function(e){var t=this;console.log("the track url is: "+e.tracks.href),d.ajax({url:e.tracks.href,type:"GET",beforeSend:function(e){e.setRequestHeader("Authorization","Bearer "+t.props.accessToken)},success:function(e){console.log(e),t.setState({trackList:e.items})}})}},{key:"render",value:function(){var e=this;return this.buttonClicked?r.a.createElement(y,{value:this.state.trackList},r.a.createElement(j,null)):r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h2",null,"Featured Playlists"),r.a.createElement("br",null)),r.a.createElement(k,null,function(t){return console.log(t),r.a.createElement("div",null,t.map(function(a){return t.length>1?r.a.createElement("div",null,r.a.createElement("h2",null,a.name),r.a.createElement("button",{onClick:function(){return e.imageClicked(a)}},r.a.createElement("img",{src:a.images[0].url})),r.a.createElement("br",null)):r.a.createElement("div",null,"Loading")}))}))}}]),t}(n.Component),w=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={data:{},items:[],featuredPlaylistItem:[]},e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=p.access_token;e&&(this.setState({token:e}),this.getFeaturedPlaylist(e))}},{key:"getArtistAlbums",value:function(e){var t=this;console.log("MY TOKEN IS "+e),d.ajax({url:"https://api.spotify.com/v1/browse/featured-playlists",type:"GET",beforeSend:function(t){t.setRequestHeader("Authorization","Bearer "+e)},success:function(e){console.log(e),t.setState({data:e,items:e.items}),t.filterDuplicates()}})}},{key:"getFeaturedPlaylist",value:function(e){var t=this;d.ajax({url:"https://api.spotify.com/v1/browse/featured-playlists",type:"GET",beforeSend:function(t){t.setRequestHeader("Authorization","Bearer "+e)},success:function(e){console.log(e.playlists.items),t.setState({data:e,featuredPlaylistItem:e.playlists.items}),console.log(t.state.featuredPlaylistItem)}})}},{key:"render",value:function(){return console.log(this.state.items),r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("div",null,r.a.createElement("h1",null,"Songify"),r.a.createElement("br",null)),!this.state.token&&r.a.createElement("a",{className:"btn btn--loginApp-link",href:"".concat("https://accounts.spotify.com/authorize","?client_id=").concat("23022abbad9943048eb6eb2ec2986006","&redirect_uri=").concat("http://localhost:3000/redirect","&scope=").concat(f.join("%20"),"&response_type=token&show_dialog=true")},"Login to Spotify"),this.state.token&&r.a.createElement(E,{value:this.state.featuredPlaylistItem},r.a.createElement(O,{accessToken:this.state.token}))))}}]),t}(n.Component);c.a.render(r.a.createElement(w,null),document.getElementById("root"))}],[[10,1,2]]]);
//# sourceMappingURL=main.f0ed0125.chunk.js.map